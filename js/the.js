var global=window||global,the={};(function(){var a=document.getElementsByTagName("script"),a=a[a.length-1],b=a.src.split("?")[0];global.URL=a.getAttribute("path")||b.split("/").slice(0,-1).join("/")+"/"})();the.class_factory=function(a,b){var c=a[b][b],e=a[b],d=e.extend,f=e.our,g;if(f)for(g in f)c[g]=f[g];delete e.our;delete e.extend;delete e[b];c.prototype=e;c.prototype.constructor=c;if(d)for(e=d.length;e--;)the.extend(c,d[e]);a[b]=c};global.namespace=global.ns=function(a,b){var c=a.replace(/\//g,".").split("."),e=c.length,d,f=global;for(d=0;d<e-1;d++)f[c[d]]=f[c[d]]||{},f=f[c[d]];"function"==typeof b?(d=b.toString().replace(/\s/g,"").match(/require\s*:\s*\[(.*?)\]/)[1].replace(/['"]/g,"").split(","),d.push(function(){b=b();delete b.require;ns.cns(b,f,c,e)}),include.apply(global,d)):void 0!==b.require?(b.require.push(function(){delete b.require;ns.cns(b,f,c,e)}),include.apply(global,b.require)):ns.cns(b,f,c,e)};
ns.cns=function(a,b,c,e){for(var d in a)if(a.hasOwnProperty(d)){the.class_factory(a,d);b[c[e-1]]=b[c[e-1]]||{};the.cut;var f;f=c.join(".")+"."+d;f=Function(f+" = function() {the.extend(this, new this.constructor(arguments))}; "+f+".toString = function() {return '"+f+"'};return "+f)();f.prototype.constructor=a[d];a[d]=f;the.cut;b[c[e-1]][d]=a[d]}};the.extend=function(a,b){if(typeof a==typeof b&&"function"==typeof b){var c=a.prototype,e,d=function(){};d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(e in c)a.prototype[e]=c[e];"function"==typeof b&&(a.prototype._supers=a.prototype._supers||[],a.prototype._supers.push(b));a.prototype.Super=the.extend.Super}else for(c in b)a[c]=b[c]};the.extend.Super=function(){for(var a=this._supers.length;-1<--a;)this._supers[a].apply(this,arguments)};global.include=function(){var a=arguments,b=a.length-1;if(!(0>b)){if("function"==typeof a[b]){if(!b){a[b]();return}include.data.funcs.push(a[b])}for(var c=0;c<b;c++)a=arguments[c],include.data.cache[a]||(include.data.start+=1,include.data.cache[a]=1,create_script(URL+a.replace(/\./ig,"/")+".js",include.data.callback,include.data.callback))}};include.data={start:0,ready:0,funcs:[],cache:{}};
include.data.callback=function(){include.data.ready+=1;if(include.data.ready==include.data.start)for(var a=include.data.funcs.length,b;-1<(a-=1);)b=include.data.funcs.pop(),b()};function Container(){}Container.child_number=1;Container.prototype.children={length:0};Container.prototype._id={};Container.prototype.addChild=function(a){a._id||(a._id=Container.child_number++);this.children[a._id]=a._id;this.children.length+=1;a.parent=this};Container.prototype.removeChild=function(a){this.children[a._id]&&(this.children[a._id].parent=void 0,this.children[a._id]=void 0,this.children.length-=1)};function EventDispatcher(){}EventDispatcher.prototype.on=function(a,b){this._listener=this._listener||{};this._listener[a]=this._listener[a]||[];this._listener[a].push(b)};EventDispatcher.prototype.play=function(a){var b=Array.prototype.slice.call(arguments);b.shift();if(void 0!=this._listener&&void 0!=this._listener[a])for(var c=this._listener[a].length;0<=(c-=1);)this._listener[a][c].apply(this,b)};function create_script(a,b,c){var e=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.src=a;d.done=!1;d.onload=d.onreadystatechange=function(){if(!d.done&&(!global.readyState||"loaded"===global.readyState||"complete"===global.readyState))d.done=!0,b(),d.onload=d.onreadystatechange=null};d.onerror=c;e.appendChild(d)};function start_point(){function a(){if(!start_point.onse){start_point.onse=!0;var a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript";c.src=URL+"index.js";a.appendChild(c)}}start_point.onse=!1;document.addEventListener?document.addEventListener("DOMContentLoaded",a,!1):document.attachEvent&&document.attachEvent("onreadystatechange",a)}start_point();
